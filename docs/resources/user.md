---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "stepsecurity_user Resource - stepsecurity"
subcategory: ""
description: |-
  
---

# stepsecurity_user (Resource)



## Example Usage

```terraform
terraform {
  required_providers {
    stepsecurity = {
      source = "step-security/stepsecurity"
    }
  }
}

provider "stepsecurity" {
  api_key  = "xxxxxxxx" # can also be set as env variable STEP_SECURITY_API_KEY
  customer = "abcdefg"  # can also be set as env variable STEP_SECURITY_API_KEY
}

# creates a githubuser in stepsecurity console to have read access to the organization.
resource "stepsecurity_user" "github_user" {
  user_name = "test-user-1"
  auth_type = "Github"
  policies = [
    {
      type         = "github"
      role         = "auditor"
      scope        = "organization"
      organization = "test-organization"
    }
  ]
}

# creates sso user in stepsecurity console to have tenant admin access to all organizations under the tenant.
resource "stepsecurity_user" "sso_user" {
  email     = "test-user-2@test.com"
  auth_type = "SSO"
  policies = [
    {
      type  = "github"
      role  = "admin"
      scope = "customer"
    }
  ]
}

# creates user that provides read access to the organization for all users with email suffix 'test.com'.
resource "stepsecurity_user" "email_suffix_user" {
  email_suffix = "test.com"
  auth_type    = "SSO"
  policies = [
    {
      type         = "github"
      role         = "auditor"
      scope        = "organization"
      organization = "test-organization"
    }
  ]
}

# For importing existing user to terraform state
# this will be helpful to manage existing user using terraform
# alternative to this is to use terraform import command
import {
  to = stepsecurity_user.github_user
  id = ACTUAL_USER_ID
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `auth_type` (String) The authentication type of the user. Valid values are 'Github', 'SSO', 'Local'.

### Optional

- `email` (String) The email of the user. This is required for adding users with auth_type = SSO/Local
- `email_suffix` (String) The email suffix of the user. It is used for providing access to all users with a specific email suffix.
- `policies` (Attributes List) (see [below for nested schema](#nestedatt--policies))
- `user_name` (String) The GitHub username of the user. This is required for adding users with auth_type = GitHub

### Read-Only

- `id` (String) The ID of the user

<a id="nestedatt--policies"></a>
### Nested Schema for `policies`

Required:

- `role` (String) The role of the user
- `scope` (String) The permission scope of the policy.
- `type` (String) The CI/CD platform type

Optional:

- `group` (String) Group name that the user has to access (required only when type = 'gitlab' and scope = 'group' or 'project')
- `organization` (String) Github organization name that the user has to access (required only when type = 'github' and scope = 'organization' or 'repository' )
- `projects` (List of String) List of projects that the user has to access (required only when type = 'gitlab' and scope = 'project')
- `repos` (List of String) List of Github repositories that the user has to access (required only when type = 'github' and scope = 'repository')

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import 'stepsecurity_user.github_user' USER_ID
```
